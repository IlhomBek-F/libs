<div [formGroup]="form()">
  <label class="text-sm font-medium text-gray-700" [attr.for]="question().key">
    {{ question().label }} @if(question().required) {<span class="text-red-500">*</span>}
  </label>
  <div>
    @switch (question().controlType) {
      @case (QuestionTypeEnum.TextInput) {
         @if (question().type === QuestionFieldTypeEnum.Number) {
          <base-form-number-input [formControlName]="question().key"
                                  [id]="question().key"
                                  [required]="question().required"
                                  [placeholder]="question().placeholder"/>
         } @else if(question().type === QuestionFieldTypeEnum.Password) {
           <base-form-password-input [formControlName]="question().key"
                                  [id]="question().key"
                                  [required]="question().required"
                                  [placeholder]="question().placeholder"
           />
         } @else {
          <base-form-text-input [formControlName]="question().key"
                           [id]="question().key"
                           [required]="question().required"
                           [placeholder]="question().placeholder"/>
         }
      }
      @case (QuestionTypeEnum.SelectInput) {
        <base-form-select-input [options]="$any(question()).options"
                             [formControlName]="question().key"
                             [required]="question().required"
                             [optionLabel]="$any(question()).optionLabel"
                             [optionValue]="$any(question()).optionValue"
                             [optionType]="$any(question()).optionType"
                             [asyncOptionObs$]="$any(question()).asyncOptionObs$"
                             [placeholder]="question().placeholder"
                             [normalizeValue]="$any(question()).normalizeValue"
                             />
      }
      @case (QuestionTypeEnum.MultiSelect) {
        <base-form-multi-select [options]="$any(question()).options"
                             [formControlName]="question().key"
                             [optionLabel]="$any(question()).optionLabel"
                             [optionValue]="$any(question()).optionValue"
                             [normalizeValue]="$any(question()).normalizeValue"
                             [optionType]="$any(question()).optionType"
                             [asyncOptionObs$]="$any(question()).asyncOptionObs$"
                             [required]="question().required"
                             [placeholder]="question().placeholder"/>
      }
      @case (QuestionTypeEnum.DatePicker) {
        <base-form-datepicker [formControlName]="question().key"
                           [required]="question().required"
                           [view]="$any(question()).view"
                           />
      }
      @case (QuestionTypeEnum.TextArea) {
        <base-form-textarea-input [formControlName]="question().key"
                               [required]="question().required"/>
      }
      @case (QuestionTypeEnum.TimePicker) {
        <base-form-time-picker [formControlName]="question().key"
                            [required]="question().required"
                            [hourFormat]="$any(question()).hourFormat"
                            />
      }
    }
  </div>
</div>
